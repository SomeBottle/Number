<!DOCTYPE html> 
<html> 
<head> 
<meta charset="UTF-8"/> 
<title>Numbers.</title> 
<style> 
html{margin:0;height:100%;}
.b{
position:absolute;
left:0px;
top:0px;
width:100%;
height:100%;
z-index:100;
opacity:0;
}
h1{z-index:0;font:120px/400px '\5FAE\8F6F\96C5\9ED1';width:960px;color:#AAA;text-shadow:0 0 1px;text-align:center;position:absolute;top:50%;left:50%;margin:-230px 0 0 -480px;}
</style> 
</head> 
<body> 
<button type='button' onclick='p()' class='b'></button>
<h1 id='t'>点击</h1>
</div> 
</body> 
<script>
var t;
  var number;
var o=0;
  var globalnum;
var n,cf;
  function rp(){
    n=prompt('How Many?','');
     cf=confirm('Allow Repeating?');
    number=[];
  }
  rp();
function count(){
var a=Math.floor(Math.random()*parseInt(n))+1;
  if(number.indexOf(a)!==-1&&!cf){
    if(!(number.length>=Number(n))){
     return count();
    }
  }
  if(number.length>=Number(n)){
      document.getElementById('t').innerHTML='Finished';
    }else{
document.getElementById('t').innerHTML=a;
    }
  globalnum=a;
}
function p(){
  if(!(number.length>=Number(n)+1)){
if(o==0){
t=setInterval(count,10);
o=1;
}else{
clearInterval(t);
number[number.length]=globalnum;
    console.log(number.length);
  o=0;
}
  }else{
    return rp();
  }
}
</script>
</html> 
